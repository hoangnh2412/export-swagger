{
    "swagger": "2.0",
    "info": {
        "version": "v3.0",
        "title": "Einvoice Integration API"
    },
    "paths": {
        "/v30/api/invoice/01gtkt": {
            "get": {
                "tags": [
                    "Invoice01V30Api"
                ],
                "summary": "lấy danh sách hóa đơn",
                "description": "Mẫu dữ liệu trả ra (trường hợp thành công) \r\n{\r\n    [\r\n        \"Id\" : \"\",\r\n        \"IdErp\" : \"\",\r\n        \"IdTransaction\" : \"\",\r\n        \"InvoiceNo\" : \"\",\r\n        \"InvoiceStatus\" : \"\",\r\n        \"SignStatus\" : \"\",\r\n        \"IdFileOfRecord\" : \"\"\r\n    ]\r\n}",
                "operationId": "GetAsync",
                "consumes": [],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "FromDate",
                        "in": "query",
                        "description": "Tạo hóa đơn từ ngày",
                        "required": false,
                        "type": "string",
                        "format": "date-time"
                    },
                    {
                        "name": "ToDate",
                        "in": "query",
                        "description": "tạo tới ngày",
                        "required": false,
                        "type": "string",
                        "format": "date-time"
                    },
                    {
                        "name": "InvoiceStatus",
                        "in": "query",
                        "description": "mã trạng thái hóa đơn",
                        "required": false,
                        "type": "integer",
                        "format": "int32",
                        "enum": [
                            1,
                            2,
                            3,
                            4,
                            5,
                            6,
                            7,
                            8,
                            9
                        ]
                    },
                    {
                        "name": "SignStatus",
                        "in": "query",
                        "description": "mã trạng thái ký hóa đơn",
                        "required": false,
                        "type": "integer",
                        "format": "int32",
                        "enum": [
                            1,
                            2,
                            3,
                            4,
                            5
                        ]
                    },
                    {
                        "name": "IdErp",
                        "in": "query",
                        "description": "id bản ghi của erp",
                        "required": false,
                        "type": "string",
                        "maxLength": 50
                    },
                    {
                        "name": "IdTransaction",
                        "in": "query",
                        "description": "id hóa đơn có cùng giao dịch",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "BuyerCode",
                        "in": "query",
                        "description": "mã người mua",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "Size",
                        "in": "query",
                        "required": false,
                        "type": "integer",
                        "format": "int32"
                    },
                    {
                        "name": "Page",
                        "in": "query",
                        "required": false,
                        "type": "integer",
                        "format": "int32"
                    },
                    {
                        "name": "Q",
                        "in": "query",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "Search",
                        "in": "query",
                        "required": false,
                        "type": "object"
                    },
                    {
                        "name": "Sort",
                        "in": "query",
                        "required": false,
                        "type": "object"
                    },
                    {
                        "name": "Columns",
                        "in": "query",
                        "required": false,
                        "type": "object"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.Invoice01ApiResultModel"
                        }
                    },
                    "201": {
                        "description": "Returns the newly created item"
                    },
                    "400": {
                        "description": "If the item is null",
                        "schema": {
                            "$ref": "#/definitions/Microsoft.AspNetCore.Mvc.ProblemDetails"
                        }
                    },
                    "401": {
                        "description": "Chưa đăng nhập"
                    },
                    "403": {
                        "description": "Không có quyền"
                    }
                },
                "security": [
                    {
                        "Bearer": []
                    }
                ]
            }
        },
        "/v30/api/invoice/01gtkt/create": {
            "post": {
                "tags": [
                    "Invoice01V30Api"
                ],
                "summary": "Tạo 1 hóa đơn mới",
                "description": "Mẫu dữ liệu trả ra (trường hợp thành công) \r\n{\r\n    \"idTransaction\": \"string\",\r\n    \"idInvoice\": \"string\",\r\n    \"invoiceNo\": \"string\",\r\n    \"invoiceStatus\": \"string\",\r\n    \"signStatus\": \"string\"\r\n}",
                "operationId": "Create",
                "consumes": [
                    "application/json-patch+json",
                    "application/json",
                    "text/json",
                    "application/*+json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "command",
                        "in": "body",
                        "description": "Dữ liệu hóa đơn cần tạo",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.CreateInvoice01ApiModel"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.Invoice01ApiResultModel"
                        }
                    },
                    "401": {
                        "description": "Chưa đăng nhập"
                    },
                    "403": {
                        "description": "Không có quyền"
                    }
                },
                "security": [
                    {
                        "Bearer": []
                    }
                ]
            }
        },
        "/v30/api/invoice/01gtkt/create-batch": {
            "post": {
                "tags": [
                    "Invoice01V30Api"
                ],
                "summary": "tạo nhiều hóa đơn",
                "description": " Mẫu dữ liệu trả ra (trường hợp thành công) \r\n{\r\n    \"idTransaction\": \"string\",\r\n    \"idInvoice\": \"string\",\r\n    \"invoiceNo\": \"string\",\r\n    \"invoiceStatus\": \"string\",\r\n    \"signStatus\": \"string\"\r\n}",
                "operationId": "CreateBatch",
                "consumes": [
                    "application/json-patch+json",
                    "application/json",
                    "text/json",
                    "application/*+json"
                ],
                "produces": [
                    "text/plain",
                    "application/json",
                    "text/json"
                ],
                "parameters": [
                    {
                        "name": "commands",
                        "in": "body",
                        "description": "",
                        "required": false,
                        "schema": {
                            "uniqueItems": false,
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Module.Invoice01ApiV30.Models.CreateInvoice01ApiModel"
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "uniqueItems": false,
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Module.Invoice01ApiV30.Models.Invoice01ApiResultModel"
                            }
                        }
                    },
                    "401": {
                        "description": "Chưa đăng nhập"
                    },
                    "403": {
                        "description": "Không có quyền"
                    }
                },
                "security": [
                    {
                        "Bearer": []
                    }
                ]
            }
        },
        "/v30/api/invoice/01gtkt/create-and-sign": {
            "post": {
                "tags": [
                    "Invoice01V30Api"
                ],
                "summary": "tạo và ký",
                "operationId": "CreateAndSign",
                "consumes": [
                    "application/json-patch+json",
                    "application/json",
                    "text/json",
                    "application/*+json"
                ],
                "produces": [
                    "text/plain",
                    "application/json",
                    "text/json"
                ],
                "parameters": [
                    {
                        "name": "command",
                        "in": "body",
                        "description": "",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.CreateInvoice01ApiModel"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.Invoice01ApiResultModel"
                        }
                    },
                    "401": {
                        "description": "Chưa đăng nhập"
                    },
                    "403": {
                        "description": "Không có quyền"
                    }
                },
                "security": [
                    {
                        "Bearer": []
                    }
                ]
            }
        },
        "/v30/api/invoice/01gtkt/update/{idErp}": {
            "put": {
                "tags": [
                    "Invoice01V30Api"
                ],
                "summary": "Sửa hóa đơn gốc",
                "description": "sửa hóa đơn",
                "operationId": "Update",
                "consumes": [
                    "application/json-patch+json",
                    "application/json",
                    "text/json",
                    "application/*+json"
                ],
                "produces": [
                    "text/plain",
                    "application/json",
                    "text/json"
                ],
                "parameters": [
                    {
                        "name": "idErp",
                        "in": "path",
                        "description": "",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "command",
                        "in": "body",
                        "description": "",
                        "required": false,
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.UpdateInvoice01ApiModel"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "schema": {
                            "$ref": "#/definitions/Module.Invoice01ApiV30.Models.Invoice01ApiResultModel"
                        }
                    },
                    "401": {
                        "description": "Chưa đăng nhập"
                    },
                    "403": {
                        "description": "Không có quyền"
                    }
                },
                "security": [
                    {
                        "Bearer": []
                    }
                ]
            }
        }
    },
    "definitions": {
        "Module.Invoice01ApiV30.Models.Invoice01ApiResultModel": {
            "type": "object",
            "properties": {
                "id": {
                    "format": "uuid",
                    "description": "code bản ghi hóa đơn",
                    "type": "string"
                },
                "idErp": {
                    "description": "IdErp bản ghi hóa đơn",
                    "type": "string"
                },
                "idTransaction": {
                    "description": "Mã đơn hàng, giao dịch ....",
                    "type": "string"
                },
                "invoiceNo": {
                    "description": "Số hóa đơn",
                    "type": "string"
                },
                "invoiceStatus": {
                    "format": "int32",
                    "description": "Trạng thái hóa đơn (Goc, DieuChinhTangGiam)",
                    "enum": [
                        1,
                        2,
                        3,
                        4,
                        5,
                        6,
                        7,
                        8,
                        9
                    ],
                    "type": "integer"
                },
                "signStatus": {
                    "format": "int32",
                    "description": "Trạng thái ký (ChoDuyet, ChoKy, DaKy, DaBaoCao)",
                    "enum": [
                        1,
                        2,
                        3,
                        4,
                        5
                    ],
                    "type": "integer"
                },
                "idFileOfRecord": {
                    "format": "uuid",
                    "type": "string"
                }
            }
        },
        "Microsoft.AspNetCore.Mvc.ProblemDetails": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "status": {
                    "format": "int32",
                    "type": "integer"
                },
                "detail": {
                    "type": "string"
                },
                "instance": {
                    "type": "string"
                }
            },
            "additionalProperties": {
                "type": "object"
            }
        },
        "Module.Invoice01ApiV30.Models.CreateInvoice01ApiModel": {
            "required": [
                "invoiceDate",
                "templateNo",
                "serialNo",
                "exchangeRate",
                "paymentMethod",
                "buyerFullName",
                "buyerAddressLine",
                "idTransaction",
                "id",
                "userNameCreator",
                "idBuyer",
                "buyerCode",
                "currency",
                "invoiceDetails"
            ],
            "type": "object",
            "properties": {
                "invoiceDate": {
                    "format": "date-time",
                    "description": "Ngày hóa đơn",
                    "type": "string"
                },
                "note": {
                    "description": "Ghi chú",
                    "maxLength": 250,
                    "type": "string"
                },
                "templateNo": {
                    "description": "Mẫu số của hóa đơn",
                    "type": "string"
                },
                "serialNo": {
                    "description": "Ký hiệu hóa đơn",
                    "pattern": "[A-Z0-9]{2}\\/[0-9]{2}[E]{1}",
                    "type": "string"
                },
                "metaData": {
                    "description": "các giá trị thêm",
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "exchangeRate": {
                    "format": "double",
                    "description": "Tỷ giá chuyển đổi",
                    "minimum": 1.0,
                    "type": "number"
                },
                "paymentMethod": {
                    "description": "Phương thức thanh toán",
                    "maxLength": 100,
                    "type": "string"
                },
                "paymentDate": {
                    "format": "date",
                    "description": "Ngày thanh toán",
                    "type": "string"
                },
                "totalAmount": {
                    "format": "double",
                    "description": "Tổng tiền hàng trước thuế",
                    "type": "number"
                },
                "totalVatAmount": {
                    "format": "double",
                    "description": "Tổng tiền thuế",
                    "type": "number"
                },
                "totalPaymentAmount": {
                    "format": "double",
                    "description": "Tổng tiền phải trả",
                    "type": "number"
                },
                "totalDiscountAmountBeforeTax": {
                    "format": "double",
                    "description": "Tổng tiền chiết khấu trước thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "totalDiscountPercentAfterTax": {
                    "format": "double",
                    "description": "Tổng % chiết khấu sau thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "totalDiscountAmountAfterTax": {
                    "format": "double",
                    "description": "Tổng tiền chiết khấu sau thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "buyerEmail": {
                    "description": "Email người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerFullName": {
                    "description": "Họ tên người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerLegalName": {
                    "description": "Người đại diện",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerTaxCode": {
                    "description": "Mã số thuế người mua",
                    "type": "string"
                },
                "buyerAddressLine": {
                    "description": "Địa chỉ người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerDistrictName": {
                    "description": "Tên quận/huyện người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCityName": {
                    "description": "Tên tỉnh/thành phố người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCountryCode": {
                    "description": "Tên quốc gia người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerPhoneNumber": {
                    "description": "Số điện thoại người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerFaxNumber": {
                    "description": "Số fax người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerBankName": {
                    "description": "Tên ngân hàng người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerBankAccount": {
                    "description": "Số tài khoản người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "idTransaction": {
                    "description": "Xác định các hóa đơn chung 1 đơn hàng",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "id": {
                    "description": "Id hóa đơn ERP, nếu đã tồn tại sẽ không tạo mới nữa",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "userNameCreator": {
                    "description": "Người tạo hóa đơn, tài khoản đăng nhập bên ERP",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "idBuyer": {
                    "description": "Id người mua bên ERP, nếu đã tồn tại sẽ không tạo mới nữa",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerGroupCode": {
                    "description": "Mã nhóm người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCode": {
                    "description": "Mã người mua bên ERP",
                    "maxLength": 50,
                    "minLength": 0,
                    "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-_\\/]{0,48}[a-zA-Z0-9]{1,49}$|^[a-zA-Z0-9]{1}$",
                    "type": "string"
                },
                "idBuyerGroup": {
                    "description": "Id nhóm người mua bên ERP, nếu đã tồn tại sẽ không tạo mới nữa",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerGroupName": {
                    "description": "Tên nhóm người mua bên ERP",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "currency": {
                    "description": "Mã tiền tệ",
                    "maxLength": 5,
                    "type": "string"
                },
                "invoiceDetails": {
                    "description": "Chi tiết hóa đơn",
                    "minLength": 1,
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.CreateInvoiceDetailApiModel"
                    }
                },
                "invoiceHeaderExtras": {
                    "description": "Thông tin hóa đơn đặc biệt",
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.InvoiceHeaderExtraApiModel"
                    }
                },
                "invoiceTaxBreakdowns": {
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.CreateInvoiceTaxBreakDownApiModel"
                    }
                }
            }
        },
        "Module.Invoice01ApiV30.Models.CreateInvoiceDetailApiModel": {
            "required": [
                "productId",
                "productName",
                "unitName",
                "vatPercentDisplay"
            ],
            "type": "object",
            "properties": {
                "index": {
                    "format": "int32",
                    "description": "index thứ tự các chi tiết hóa đơn trong hóa đơn",
                    "type": "integer"
                },
                "discountAmountBeforeTax": {
                    "format": "double",
                    "description": "Chiết khấu",
                    "minimum": 0.0,
                    "type": "number"
                },
                "discountPercentBeforeTax": {
                    "format": "double",
                    "description": "Phần trăm chiết khấu",
                    "minimum": 0.0,
                    "type": "number"
                },
                "paymentAmount": {
                    "format": "double",
                    "description": "Tổng tiền sau thuế",
                    "type": "number"
                },
                "productId": {
                    "description": "Mã sản phẩm",
                    "maxLength": 50,
                    "type": "string"
                },
                "productName": {
                    "description": "Tên sản phẩm",
                    "maxLength": 250,
                    "type": "string"
                },
                "unitName": {
                    "description": "Tên đơn vị tính",
                    "maxLength": 50,
                    "type": "string"
                },
                "unitPrice": {
                    "format": "double",
                    "description": "Đơn giá",
                    "minimum": 0.0,
                    "type": "number"
                },
                "quantity": {
                    "format": "double",
                    "description": "Số lượng",
                    "type": "number"
                },
                "amount": {
                    "format": "double",
                    "description": "Tổng tiền hàng",
                    "type": "number"
                },
                "vatPercent": {
                    "format": "int32",
                    "description": "Phần trăm thuế (-2: Không kê khai, -1: Không chịu thuế, 0: 0%, 5: 5%, 10: 10%)",
                    "type": "integer"
                },
                "vatPercentDisplay": {
                    "description": "Giá trị thuế hiển thị khi in hóa đơn",
                    "type": "string"
                },
                "vatAmount": {
                    "format": "double",
                    "description": "tiền thuế",
                    "type": "number"
                },
                "note": {
                    "description": "Ghi chú",
                    "maxLength": 2000,
                    "type": "string"
                },
                "invoiceDetailExtras": {
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.InvoiceDetailExtraApiModel"
                    }
                }
            }
        },
        "Module.Invoice01ApiV30.Models.InvoiceHeaderExtraApiModel": {
            "required": [
                "fieldName"
            ],
            "type": "object",
            "properties": {
                "fieldName": {
                    "description": "tên trường extra",
                    "type": "string"
                },
                "fieldValue": {
                    "description": "Giá trị của field mở rộng",
                    "maxLength": 2000,
                    "type": "string"
                }
            }
        },
        "Module.Invoice01ApiV30.Models.CreateInvoiceTaxBreakDownApiModel": {
            "type": "object",
            "properties": {
                "vatAmount": {
                    "format": "double",
                    "description": "Tiền chiết khấu",
                    "type": "number"
                },
                "vatPercent": {
                    "format": "int32",
                    "description": "% chiết khấu",
                    "type": "integer"
                },
                "name": {
                    "description": "tên thuế",
                    "type": "string"
                }
            }
        },
        "Module.Invoice01ApiV30.Models.InvoiceDetailExtraApiModel": {
            "required": [
                "fieldName"
            ],
            "type": "object",
            "properties": {
                "fieldName": {
                    "description": "tên trường extra",
                    "type": "string"
                },
                "fieldValue": {
                    "description": "Giá trị của field mở rộng",
                    "maxLength": 2000,
                    "type": "string"
                }
            }
        },
        "Module.Invoice01ApiV30.Models.UpdateInvoice01ApiModel": {
            "required": [
                "invoiceDate",
                "exchangeRate",
                "paymentMethod",
                "buyerFullName",
                "buyerAddressLine",
                "idBuyer",
                "buyerCode",
                "currency",
                "invoiceDetails"
            ],
            "type": "object",
            "properties": {
                "invoiceDate": {
                    "format": "date-time",
                    "description": "Ngày hóa đơn",
                    "type": "string"
                },
                "note": {
                    "description": "Ghi chú",
                    "maxLength": 250,
                    "type": "string"
                },
                "metaData": {
                    "description": "các giá trị thêm",
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "exchangeRate": {
                    "format": "double",
                    "description": "Tỷ giá chuyển đổi",
                    "minimum": 1.0,
                    "type": "number"
                },
                "paymentMethod": {
                    "description": "Phương thức thanh toán",
                    "maxLength": 100,
                    "type": "string"
                },
                "paymentDate": {
                    "format": "date",
                    "description": "Ngày thanh toán",
                    "type": "string"
                },
                "totalAmount": {
                    "format": "double",
                    "description": "Tổng tiền hàng trước thuế",
                    "type": "number"
                },
                "totalVatAmount": {
                    "format": "double",
                    "description": "Tổng tiền thuế",
                    "type": "number"
                },
                "totalPaymentAmount": {
                    "format": "double",
                    "description": "Tổng tiền phải trả",
                    "type": "number"
                },
                "totalDiscountAmountBeforeTax": {
                    "format": "double",
                    "description": "Tổng tiền chiết khấu trước thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "totalDiscountPercentAfterTax": {
                    "format": "double",
                    "description": "Tổng % chiết khấu sau thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "totalDiscountAmountAfterTax": {
                    "format": "double",
                    "description": "Tổng tiền chiết khấu sau thuế",
                    "minimum": 0.0,
                    "type": "number"
                },
                "buyerEmail": {
                    "description": "Email người mua",
                    "type": "string"
                },
                "buyerFullName": {
                    "description": "Họ tên người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerLegalName": {
                    "description": "Người đại diện",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerTaxCode": {
                    "description": "Mã số thuế người mua",
                    "type": "string"
                },
                "buyerAddressLine": {
                    "description": "Địa chỉ người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerDistrictName": {
                    "description": "Tên quận/huyện người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCityName": {
                    "description": "Tên tỉnh/thành phố người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCountryCode": {
                    "description": "Tên quốc gia người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerPhoneNumber": {
                    "description": "Số điện thoại người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerFaxNumber": {
                    "description": "Số fax người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerBankName": {
                    "description": "Tên ngân hàng người mua",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerBankAccount": {
                    "description": "Số tài khoản người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "idBuyer": {
                    "description": "Id người mua bên ERP, nếu đã tồn tại sẽ không tạo mới nữa",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "buyerCode": {
                    "description": "Mã người mua bên ERP",
                    "maxLength": 50,
                    "minLength": 0,
                    "pattern": "^[a-zA-Z0-9][a-zA-Z0-9-_\\/]{0,48}[a-zA-Z0-9]{1,49}$|^[a-zA-Z0-9]{1}$",
                    "type": "string"
                },
                "buyerGroupCode": {
                    "description": "Mã nhóm người mua",
                    "maxLength": 50,
                    "minLength": 0,
                    "type": "string"
                },
                "idBuyerGroup": {
                    "description": "Id nhóm người mua bên ERP, nếu đã tồn tại sẽ không tạo mới nữa",
                    "type": "string"
                },
                "buyerGroupName": {
                    "description": "Tên nhóm người mua bên ERP",
                    "maxLength": 250,
                    "minLength": 0,
                    "type": "string"
                },
                "currency": {
                    "description": "Mã tiền tệ",
                    "maxLength": 5,
                    "type": "string"
                },
                "invoiceDetails": {
                    "description": "Chi tiết hóa đơn",
                    "minLength": 1,
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.UpdateInvoiceDetailApiModel"
                    }
                },
                "invoiceHeaderExtras": {
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.UpdateHeaderExtraModel"
                    }
                },
                "invoiceTaxBreakdowns": {
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.InvoiceTaxBreakdownApiModel"
                    }
                }
            }
        },
        "Module.Invoice01ApiV30.Models.UpdateInvoiceDetailApiModel": {
            "required": [
                "productId",
                "productName",
                "unitName",
                "vatPercentDisplay"
            ],
            "type": "object",
            "properties": {
                "index": {
                    "format": "int32",
                    "description": "index thứ tự các chi tiết hóa đơn trong hóa đơn",
                    "type": "integer"
                },
                "discountAmountBeforeTax": {
                    "format": "double",
                    "description": "Chiết khấu",
                    "minimum": 0.0,
                    "type": "number"
                },
                "discountPercentBeforeTax": {
                    "format": "double",
                    "description": "Phần trăm chiết khấu",
                    "minimum": 0.0,
                    "type": "number"
                },
                "paymentAmount": {
                    "format": "double",
                    "description": "Tổng tiền sau thuế",
                    "type": "number"
                },
                "productId": {
                    "description": "Mã sản phẩm",
                    "maxLength": 50,
                    "type": "string"
                },
                "productName": {
                    "description": "Tên sản phẩm",
                    "maxLength": 250,
                    "type": "string"
                },
                "unitName": {
                    "description": "Tên đơn vị tính",
                    "maxLength": 50,
                    "type": "string"
                },
                "unitPrice": {
                    "format": "double",
                    "description": "Đơn giá",
                    "minimum": 0.0,
                    "type": "number"
                },
                "quantity": {
                    "format": "double",
                    "description": "Số lượng",
                    "type": "number"
                },
                "amount": {
                    "format": "double",
                    "description": "Tổng tiền hàng",
                    "type": "number"
                },
                "vatPercent": {
                    "format": "int32",
                    "description": "Phần trăm thuế (-2: Không kê khai, -1: Không chịu thuế, 0: 0%, 5: 5%, 10: 10%)",
                    "type": "integer"
                },
                "vatPercentDisplay": {
                    "description": "Giá trị thuế hiển thị khi in hóa đơn",
                    "type": "string"
                },
                "vatAmount": {
                    "format": "double",
                    "description": "tiền thuế",
                    "type": "number"
                },
                "note": {
                    "description": "Ghi chú",
                    "maxLength": 2000,
                    "type": "string"
                },
                "invoiceDetailExtras": {
                    "uniqueItems": false,
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Module.Invoice01ApiV30.Models.InvoiceDetailExtraApiModel"
                    }
                }
            }
        },
        "Module.Invoice01ApiV30.Models.UpdateHeaderExtraModel": {
            "required": [
                "fieldName"
            ],
            "type": "object",
            "properties": {
                "fieldName": {
                    "description": "tên trường extra",
                    "type": "string"
                },
                "fieldValue": {
                    "description": "Giá trị của field mở rộng",
                    "maxLength": 2000,
                    "type": "string"
                }
            }
        },
        "Module.Invoice01ApiV30.Models.InvoiceTaxBreakdownApiModel": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "originVatAmount": {
                    "format": "double",
                    "description": "Tiền chiết khấu trước điều chỉnh tăng/giảm",
                    "type": "number"
                },
                "vatAmount": {
                    "format": "double",
                    "description": "Tiền chiết khấu",
                    "type": "number"
                },
                "vatPercent": {
                    "format": "int32",
                    "description": "% chiết khấu",
                    "type": "integer"
                },
                "vatAmountAfterAdjustment": {
                    "format": "double",
                    "description": "TIền chiết khấu sau điều chỉnh tăng/giảm",
                    "type": "number"
                }
            }
        }
    },
    "securityDefinitions": {
        "Bearer": {
            "name": "Authorization",
            "in": "header",
            "type": "apiKey",
            "description": "Nhập JWT AccessToken ở API login"
        }
    }
}